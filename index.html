<!DOCTYPE HTML>
<head>
	<title>Graham Whealan</title>
	<link rel='stylesheet' href='index.css'>
	<meta name='viewport' content='width=device-width, initial-scale=1.0'>
</head>
<body>
	<div id="header">
		<div class="header-title">Graham Whealan</div>
		<div id="glossery" class="header-glossery">
			<script>
				async function InitGlossery() {
					let content = "";
					document.querySelectorAll(".page-section").forEach( (element) => {
						let title	= element.children[0].innerHTML;
						let anchor	= element.id;
						content += "<a href=\'#" + anchor + "\' class=\'glossery-item\''>" + title + "</a>"
					});
					document.getElementById("glossery").innerHTML = content;
				}

				var MakeActive = (function() {
						var lastI = -1; // Static variable
						return function(i) {
							if (i != lastI)
							{
								let cards = document.querySelectorAll('.project-card');
								if (lastI >= 0)
									cards[lastI].classList.remove('project-card-active');
								lastI = i;
								cards[i].classList.add('project-card-active');
							}
						};					
					})();

				async function fetchJSON(request) {
					try {
						const response = await fetch(request);
						const contentType = response.headers.get("content-type");
						if (!contentType || !contentType.includes("application/json")) {
							throw new TypeError("Oops, we haven't got JSON!");
						}
						return await response.json();
					} catch (error) {
						console.error("Error:", error);
					}
				}


				async function InitProjects() {
					let content = "";
					const json = await fetchJSON("Projects.json");
					json.forEach((elem, index) => {
						content += "<div class=\'project-card\' onclick=\'MakeActive(" + index + ");\'><div class=\'card-title\'>" + elem.title + "</div><p class=\'card-description\'>" + elem.desc + "</p><div class=\'card-links\'>" + elem.links + "</div></div>";
					});

					document.getElementById("projects").children[1].innerHTML = content;
				}

				window.onload = function() {
					InitProjects();
					InitGlossery();
				};
			</script>
		</div>
	</div>
	<div id="page" class="flex-box">
		<div id='about' class='page-section'>
			<div class='title2'>About</div>
			<p class='page-section-content'>Hello. My name is Graham Whealan. I am a graduate of the University of Oregon majoring in Computer Science. Here's a collection of projects developed in various fields. Hope you enjoy.</p>
		</div>
		<div id='skills' class='page-section'>
			<div class='title2'>Skills</div>
			<div class='page-section-content'>
				<ul>
					<li><b>Programing Languages:</b> C, C++, C#, Python, Java, HTML, CSS, PHP, ML</li>
					<li><b>Platforms:</b> Windows, Linux</li>
					<li><b>Database:</b> SQL</li>
					<li><b>Revision Control:</b> Git</li>
				</ul>
			</div>
		</div>
		<div id='projects' class='page-section'>
			<div class='title2'>Projects</div>
			<div class='page-section-content flex-box'>
				<!--
				<div class='project-card' onclick="MakeActive(0);">
					<div class='card-title'>Project Title</div>
					<p class='card-description'>This is some project that does something cool i guess.</p>
					<div class='card-links'>
						Links...
					</div>
				</div>
				<div class='project-card' onclick="MakeActive(1);">
					<div class='card-title'>Project Title</div>
					<p class='card-description'>This is some project that does something cool i guess.</p>
					<div class='card-links'>
						Links...
					</div>
				</div>
				<div class='project-card' onclick="MakeActive(2);">
					<div class='card-title'>Long Project</div>
					<p class='card-description'>This is some project that does something cool i guess. But it takes a bunch of time to describe so it might fuck up the formating. Blah blah blah blah blahblah blahblah blahblah blahblah blahblah blahblah blahblah blahblah blahblah blahblah blahblah blahblah blahblah blahblah blahblah blahblah blahblah blahblah blahblah blahblah blah.</p>
					<div class='card-links'>
						Links...
					</div>
				</div>
				-->
			</div>
	</div>
</body>